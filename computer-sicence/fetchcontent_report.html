<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CMake FetchContent 5W2H è°ƒç ”æŠ¥å‘Š</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        h1 {
            color: #667eea;
            text-align: center;
            margin-bottom: 10px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 40px;
            font-size: 1.1em;
        }

        .section {
            margin-bottom: 35px;
            padding: 25px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .section:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .section-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 3px solid #667eea;
        }

        .section-icon {
            font-size: 2em;
            margin-right: 15px;
        }

        .section-title {
            font-size: 1.8em;
            color: #333;
            font-weight: 600;
        }

        .section-subtitle {
            font-size: 0.9em;
            color: #888;
            margin-left: auto;
        }

        .content {
            color: #555;
            font-size: 1.05em;
        }

        .content p {
            margin-bottom: 15px;
        }

        .highlight {
            background: linear-gradient(120deg, #84fab0 0%, #8fd3f4 100%);
            padding: 3px 8px;
            border-radius: 4px;
            font-weight: 600;
            color: #333;
        }

        .code-block {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 10px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.95em;
            border-left: 4px solid #667eea;
        }

        .list {
            margin-left: 20px;
        }

        .list li {
            margin-bottom: 10px;
            position: relative;
            padding-left: 10px;
        }

        .list li::before {
            content: "â–¹";
            color: #667eea;
            font-weight: bold;
            position: absolute;
            left: -15px;
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        .comparison-table th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px;
            text-align: left;
        }

        .comparison-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #eee;
        }

        .comparison-table tr:hover {
            background: #f5f5f5;
        }

        .pros-cons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .pros, .cons {
            padding: 20px;
            border-radius: 10px;
        }

        .pros {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
        }

        .cons {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
        }

        .pros h4, .cons h4 {
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }

            h1 {
                font-size: 1.8em;
            }

            .pros-cons {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ“‹ CMake FetchContent è°ƒç ”æŠ¥å‘Š</h1>
        <div class="subtitle">åŸºäº 5W2H åˆ†ææ³•çš„å…¨é¢æŠ€æœ¯è°ƒç ”</div>

        <!-- What -->
        <div class="section">
            <div class="section-header">
                <span class="section-icon">ğŸ”</span>
                <div>
                    <div class="section-title">What - æ˜¯ä»€ä¹ˆ</div>
                    <div class="section-subtitle">åŠŸèƒ½å®šä¹‰</div>
                </div>
            </div>
            <div class="content">
                <p><span class="highlight">FetchContent</span> æ˜¯ CMake 3.11+ å¼•å…¥çš„æ¨¡å—ï¼Œç”¨äºåœ¨é…ç½®æ—¶ä¸‹è½½å’Œé›†æˆå¤–éƒ¨ä¾èµ–é¡¹åˆ°é¡¹ç›®ä¸­ã€‚</p>
                
                <p><strong>æ ¸å¿ƒåŠŸèƒ½ï¼š</strong></p>
                <ul class="list">
                    <li>è‡ªåŠ¨ä¸‹è½½å¤–éƒ¨ä»£ç åº“ï¼ˆGitã€URLã€SVN ç­‰ï¼‰</li>
                    <li>åœ¨é…ç½®é˜¶æ®µå°†ä¾èµ–é¡¹ä½œä¸ºé¡¹ç›®çš„ä¸€éƒ¨åˆ†</li>
                    <li>æ— éœ€é¢„å…ˆå®‰è£…ä¾èµ–ï¼Œå®ç°è‡ªåŒ…å«æ„å»º</li>
                    <li>æ”¯æŒå£°æ˜å¼ä¾èµ–ç®¡ç†</li>
                </ul>

                <p><strong>å…¸å‹ç”¨æ³•ç¤ºä¾‹ï¼š</strong></p>
                <div class="code-block">include(FetchContent)

FetchContent_Declare(
  googletest
  GIT_REPOSITORY https://github.com/google/googletest.git
  GIT_TAG        release-1.12.1
)

FetchContent_MakeAvailable(googletest)</div>
            </div>
        </div>

        <!-- Why -->
        <div class="section">
            <div class="section-header">
                <span class="section-icon">ğŸ’¡</span>
                <div>
                    <div class="section-title">Why - ä¸ºä»€ä¹ˆ</div>
                    <div class="section-subtitle">ä½¿ç”¨åŸå› </div>
                </div>
            </div>
            <div class="content">
                <p><strong>è§£å†³çš„æ ¸å¿ƒé—®é¢˜ï¼š</strong></p>
                <ul class="list">
                    <li><strong>ä¾èµ–ç®¡ç†å¤æ‚ï¼š</strong>ä¼ ç»Ÿæ–¹å¼éœ€è¦æ‰‹åŠ¨ä¸‹è½½ã€ç¼–è¯‘ã€å®‰è£…ä¾èµ–</li>
                    <li><strong>ç‰ˆæœ¬å†²çªï¼š</strong>ç³»ç»Ÿå®‰è£…çš„åº“ç‰ˆæœ¬å¯èƒ½ä¸åŒ¹é…é¡¹ç›®éœ€æ±‚</li>
                    <li><strong>è·¨å¹³å°å›°éš¾ï¼š</strong>ä¸åŒç³»ç»Ÿä¾èµ–å®‰è£…æ–¹å¼å·®å¼‚å¤§</li>
                    <li><strong>æ„å»ºå¯é‡ç°æ€§ï¼š</strong>ç¡®ä¿æ‰€æœ‰å¼€å‘è€…ä½¿ç”¨ç›¸åŒç‰ˆæœ¬çš„ä¾èµ–</li>
                    <li><strong>CI/CD é›†æˆï¼š</strong>ç®€åŒ–æŒç»­é›†æˆç¯å¢ƒçš„é…ç½®</li>
                </ul>

                <div class="pros-cons">
                    <div class="pros">
                        <h4>âœ… ä¼˜åŠ¿</h4>
                        <ul class="list">
                            <li>é›¶å¤–éƒ¨ä¾èµ–å®‰è£…</li>
                            <li>ç‰ˆæœ¬ç²¾ç¡®æ§åˆ¶</li>
                            <li>é…ç½®å³æ–‡æ¡£</li>
                            <li>æ„å»ºå®Œå…¨å¯é‡ç°</li>
                        </ul>
                    </div>
                    <div class="cons">
                        <h4>âš ï¸ åŠ£åŠ¿</h4>
                        <ul class="list">
                            <li>é¦–æ¬¡æ„å»ºè€—æ—¶é•¿</li>
                            <li>å¢åŠ é¡¹ç›®æ„å»ºå¤æ‚åº¦</li>
                            <li>ç½‘ç»œä¾èµ–é—®é¢˜</li>
                            <li>ç£ç›˜ç©ºé—´å ç”¨</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- When -->
        <div class="section">
            <div class="section-header">
                <span class="section-icon">â°</span>
                <div>
                    <div class="section-title">When - ä½•æ—¶ä½¿ç”¨</div>
                    <div class="section-subtitle">åº”ç”¨åœºæ™¯</div>
                </div>
            </div>
            <div class="content">
                <p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong></p>
                <ul class="list">
                    <li><strong>å¼€æºé¡¹ç›®ï¼š</strong>ç®€åŒ–ç”¨æˆ·çš„æ„å»ºä½“éªŒï¼Œæ— éœ€é¢„è£…ä¾èµ–</li>
                    <li><strong>è·¨å¹³å°å¼€å‘ï¼š</strong>ç»Ÿä¸€ Windows/Linux/macOS çš„ä¾èµ–ç®¡ç†</li>
                    <li><strong>CI/CD ç¯å¢ƒï¼š</strong>è‡ªåŠ¨åŒ–æ„å»ºæµç¨‹ï¼Œå‡å°‘ç¯å¢ƒé…ç½®</li>
                    <li><strong>ç‰ˆæœ¬é”å®šéœ€æ±‚ï¼š</strong>é¡¹ç›®éœ€è¦ç‰¹å®šç‰ˆæœ¬çš„ç¬¬ä¸‰æ–¹åº“</li>
                    <li><strong>å†…éƒ¨åº“ç®¡ç†ï¼š</strong>ç»„ç»‡å†…éƒ¨å¤šä¸ªä»“åº“é—´çš„ä¾èµ–</li>
                </ul>

                <p><strong>ä¸é€‚ç”¨åœºæ™¯ï¼š</strong></p>
                <ul class="list">
                    <li>å¤§å‹ä¼ä¸šçº§ä¾èµ–ï¼ˆå¦‚ Qtã€Boostï¼‰- æ¨èä½¿ç”¨åŒ…ç®¡ç†å™¨</li>
                    <li>é¢‘ç¹å˜åŒ–çš„æœ¬åœ°å¼€å‘ä¾èµ– - è€ƒè™‘ find_package</li>
                    <li>ç¦»çº¿ç¯å¢ƒæ„å»º - éœ€è¦é¢„å…ˆç¼“å­˜</li>
                </ul>
            </div>
        </div>

        <!-- Where -->
        <div class="section">
            <div class="section-header">
                <span class="section-icon">ğŸŒ</span>
                <div>
                    <div class="section-title">Where - åœ¨å“ªé‡Œ</div>
                    <div class="section-subtitle">åº”ç”¨é¢†åŸŸ</div>
                </div>
            </div>
            <div class="content">
                <p><strong>ä¸»è¦åº”ç”¨é¢†åŸŸï¼š</strong></p>
                <ul class="list">
                    <li><strong>C++ ç”Ÿæ€ç³»ç»Ÿï¼š</strong>Header-only åº“ï¼ˆå¦‚ nlohmann/jsonï¼‰</li>
                    <li><strong>æµ‹è¯•æ¡†æ¶ï¼š</strong>Google Test, Catch2, doctest</li>
                    <li><strong>æ•°å­¦åº“ï¼š</strong>Eigen, GLM</li>
                    <li><strong>ç½‘ç»œåº“ï¼š</strong>ASIO, gRPC</li>
                    <li><strong>åµŒå…¥å¼å¼€å‘ï¼š</strong>è½»é‡çº§ä¾èµ–ç®¡ç†</li>
                    <li><strong>æ¸¸æˆå¼€å‘ï¼š</strong>å¼•æ“æ’ä»¶å’Œå·¥å…·åº“</li>
                </ul>

                <p><strong>æµè¡Œé¡¹ç›®å®ä¾‹ï¼š</strong></p>
                <table class="comparison-table">
                    <tr>
                        <th>é¡¹ç›®ç±»å‹</th>
                        <th>å¸¸ç”¨ä¾èµ–</th>
                    </tr>
                    <tr>
                        <td>å•å…ƒæµ‹è¯•</td>
                        <td>Google Test, Catch2</td>
                    </tr>
                    <tr>
                        <td>JSON å¤„ç†</td>
                        <td>nlohmann/json, RapidJSON</td>
                    </tr>
                    <tr>
                        <td>å‘½ä»¤è¡Œå‚æ•°</td>
                        <td>CLI11, cxxopts</td>
                    </tr>
                    <tr>
                        <td>æ—¥å¿—ç³»ç»Ÿ</td>
                        <td>spdlog, fmt</td>
                    </tr>
                </table>
            </div>
        </div>

        <!-- Who -->
        <div class="section">
            <div class="section-header">
                <span class="section-icon">ğŸ‘¥</span>
                <div>
                    <div class="section-title">Who - è°æ¥ä½¿ç”¨</div>
                    <div class="section-subtitle">ç›®æ ‡ç”¨æˆ·</div>
                </div>
            </div>
            <div class="content">
                <p><strong>ä¸»è¦ç”¨æˆ·ç¾¤ä½“ï¼š</strong></p>
                <ul class="list">
                    <li><strong>C++ å¼€å‘è€…ï¼š</strong>æ„å»ºç°ä»£ C++ é¡¹ç›®çš„é¦–é€‰ä¾èµ–ç®¡ç†æ–¹æ¡ˆ</li>
                    <li><strong>å¼€æºé¡¹ç›®ç»´æŠ¤è€…ï¼š</strong>é™ä½è´¡çŒ®è€…çš„ç¯å¢ƒé…ç½®é—¨æ§›</li>
                    <li><strong>DevOps å·¥ç¨‹å¸ˆï¼š</strong>ç®€åŒ– CI/CD æµæ°´çº¿é…ç½®</li>
                    <li><strong>æ•™è‚²å·¥ä½œè€…ï¼š</strong>æ•™å­¦é¡¹ç›®ä¸­å¿«é€Ÿé›†æˆç¤ºä¾‹åº“</li>
                    <li><strong>åµŒå…¥å¼å·¥ç¨‹å¸ˆï¼š</strong>ç®¡ç†è·¨ç¼–è¯‘å·¥å…·é“¾çš„ä¾èµ–</li>
                </ul>

                <p><strong>æŠ€èƒ½è¦æ±‚ï¼š</strong></p>
                <ul class="list">
                    <li>åŸºç¡€ CMake è¯­æ³•çŸ¥è¯†</li>
                    <li>ç†è§£ Git ç‰ˆæœ¬æ§åˆ¶æ¦‚å¿µ</li>
                    <li>äº†è§£é¡¹ç›®æ„å»ºæµç¨‹ï¼ˆconfigure/buildï¼‰</li>
                </ul>
            </div>
        </div>

        <!-- How -->
        <div class="section">
            <div class="section-header">
                <span class="section-icon">ğŸ› ï¸</span>
                <div>
                    <div class="section-title">How - å¦‚ä½•ä½¿ç”¨</div>
                    <div class="section-subtitle">å®æ–½æ–¹æ³•</div>
                </div>
            </div>
            <div class="content">
                <p><strong>åŸºæœ¬æµç¨‹ä¸‰æ­¥èµ°ï¼š</strong></p>

                <p><strong>1. å£°æ˜ä¾èµ–</strong></p>
                <div class="code-block">FetchContent_Declare(
  åº“åç§°
  GIT_REPOSITORY https://github.com/user/repo.git
  GIT_TAG v1.2.3  # å¯ä»¥æ˜¯ tagã€branch æˆ– commit hash
)</div>

                <p><strong>2. è·å–å¹¶é›†æˆ</strong></p>
                <div class="code-block">FetchContent_MakeAvailable(åº“åç§°)</div>

                <p><strong>3. é“¾æ¥åˆ°ç›®æ ‡</strong></p>
                <div class="code-block">target_link_libraries(my_app PRIVATE åº“åç§°::åº“åç§°)</div>

                <p><strong>é«˜çº§ç”¨æ³•ç¤ºä¾‹ï¼š</strong></p>
                <div class="code-block"># ä» URL ä¸‹è½½
FetchContent_Declare(
  stb
  URL https://github.com/nothings/stb/archive/refs/heads/master.zip
  URL_HASH SHA256=...
)

# æ¡ä»¶ä¸‹è½½ï¼ˆé¿å…é‡å¤ï¼‰
FetchContent_GetProperties(googletest)
if(NOT googletest_POPULATED)
  FetchContent_Populate(googletest)
  add_subdirectory(${googletest_SOURCE_DIR} ${googletest_BINARY_DIR})
endif()

# è®¾ç½®ä¾èµ–é€‰é¡¹
set(JSON_BuildTests OFF CACHE INTERNAL "")
FetchContent_Declare(json ...)
FetchContent_MakeAvailable(json)</div>

                <p><strong>æœ€ä½³å®è·µï¼š</strong></p>
                <ul class="list">
                    <li>ä½¿ç”¨å…·ä½“çš„ Git Tag è€Œé branchï¼Œç¡®ä¿å¯é‡ç°æ€§</li>
                    <li>ä¸º URL ä¸‹è½½æ·»åŠ  hash éªŒè¯</li>
                    <li>è®¾ç½® CACHE INTERNAL ç¦ç”¨ä¾èµ–çš„éå¿…è¦é€‰é¡¹</li>
                    <li>è€ƒè™‘ä½¿ç”¨ CMakePresets.json ç®¡ç†ç¼“å­˜é…ç½®</li>
                </ul>
            </div>
        </div>

        <!-- How Much -->
        <div class="section">
            <div class="section-header">
                <span class="section-icon">ğŸ’°</span>
                <div>
                    <div class="section-title">How Much - æˆæœ¬åˆ†æ</div>
                    <div class="section-subtitle">èµ„æºæ¶ˆè€—</div>
                </div>
            </div>
            <div class="content">
                <p><strong>æ—¶é—´æˆæœ¬ï¼š</strong></p>
                <ul class="list">
                    <li><strong>é¦–æ¬¡é…ç½®ï¼š</strong>æ¯ä¸ªä¾èµ– 5-60 ç§’ï¼ˆå–å†³äºä»“åº“å¤§å°å’Œç½‘é€Ÿï¼‰</li>
                    <li><strong>åç»­æ„å»ºï¼š</strong>ä½¿ç”¨ç¼“å­˜ï¼Œå‡ ä¹æ— é¢å¤–æ—¶é—´</li>
                    <li><strong>å­¦ä¹ æ›²çº¿ï¼š</strong>åŸºæœ¬ç”¨æ³• 1-2 å°æ—¶ï¼Œé«˜çº§ç‰¹æ€§ 1-2 å¤©</li>
                </ul>

                <p><strong>å­˜å‚¨æˆæœ¬ï¼š</strong></p>
                <ul class="list">
                    <li>æ¯ä¸ªä¾èµ–å ç”¨ build/_deps/ ç›®å½•ç©ºé—´</li>
                    <li>å…¸å‹åº“ï¼ˆå¦‚ googletestï¼‰çº¦ 20-50MB</li>
                    <li>å¤šé¡¹ç›®å…±äº«æ—¶éœ€è€ƒè™‘ç£ç›˜ç©ºé—´</li>
                </ul>

                <p><strong>ç½‘ç»œæˆæœ¬ï¼š</strong></p>
                <ul class="list">
                    <li>å›½å†…è®¿é—® GitHub å¯èƒ½è¾ƒæ…¢ï¼Œå¯ä½¿ç”¨é•œåƒ</li>
                    <li>CI ç¯å¢ƒå»ºè®®å¯ç”¨ç¼“å­˜æœºåˆ¶</li>
                    <li>è€ƒè™‘é…ç½® HTTP ä»£ç†åŠ é€Ÿä¸‹è½½</li>
                </ul>

                <p><strong>æ€§èƒ½å¯¹æ¯”ï¼š</strong></p>
                <table class="comparison-table">
                    <tr>
                        <th>æ–¹å¼</th>
                        <th>é¦–æ¬¡æ„å»º</th>
                        <th>å¢é‡æ„å»º</th>
                        <th>ç»´æŠ¤æˆæœ¬</th>
                    </tr>
                    <tr>
                        <td>FetchContent</td>
                        <td>ä¸­ç­‰ï¼ˆéœ€ä¸‹è½½ï¼‰</td>
                        <td>å¿«é€Ÿ</td>
                        <td>ä½</td>
                    </tr>
                    <tr>
                        <td>ç³»ç»ŸåŒ…ç®¡ç†å™¨</td>
                        <td>å¿«é€Ÿ</td>
                        <td>æœ€å¿«</td>
                        <td>ä¸­ç­‰</td>
                    </tr>
                    <tr>
                        <td>æ‰‹åŠ¨ç®¡ç†</td>
                        <td>æ…¢</td>
                        <td>ä¸­ç­‰</td>
                        <td>é«˜</td>
                    </tr>
                </table>
            </div>
        </div>

        <!-- Summary -->
        <div class="section">
            <div class="section-header">
                <span class="section-icon">ğŸ“Š</span>
                <div>
                    <div class="section-title">æ€»ç»“ä¸å»ºè®®</div>
                </div>
            </div>
            <div class="content">
                <p><strong>æ ¸å¿ƒè§‚ç‚¹ï¼š</strong></p>
                <p>FetchContent æ˜¯ç°ä»£ CMake é¡¹ç›®ä¾èµ–ç®¡ç†çš„å¼ºå¤§å·¥å…·ï¼Œç‰¹åˆ«é€‚åˆä¸­å°å‹å¼€æºé¡¹ç›®å’Œéœ€è¦ç²¾ç¡®æ§åˆ¶ä¾èµ–ç‰ˆæœ¬çš„åœºæ™¯ã€‚é€šè¿‡å°†ä¾èµ–å£°æ˜é›†æˆåˆ°æ„å»ºç³»ç»Ÿä¸­ï¼Œæ˜¾è‘—é™ä½äº†é¡¹ç›®çš„ä½¿ç”¨é—¨æ§›å’Œç¯å¢ƒé…ç½®å¤æ‚åº¦ã€‚</p>

                <p><strong>æ¨èç­–ç•¥ï¼š</strong></p>
                <ul class="list">
                    <li>å°å‹ä¾èµ–ï¼ˆheader-only åº“ï¼‰ä¼˜å…ˆä½¿ç”¨ FetchContent</li>
                    <li>å¤§å‹åº“ï¼ˆQtã€Boostï¼‰ç»“åˆåŒ…ç®¡ç†å™¨ä½¿ç”¨</li>
                    <li>å›¢é˜Ÿå†…éƒ¨åº“ä½¿ç”¨ FetchContent ç»Ÿä¸€ç‰ˆæœ¬</li>
                    <li>å¼€æºé¡¹ç›®æä¾› FetchContent é›†æˆç¤ºä¾‹</li>
                </ul>

                <p><strong>æœªæ¥è¶‹åŠ¿ï¼š</strong></p>
                <p>éšç€ C++20/23 æ¨¡å—åŒ–å’ŒåŒ…ç®¡ç†å·¥å…·ï¼ˆå¦‚ Conanã€vcpkgï¼‰çš„å‘å±•ï¼ŒFetchContent å°†ä¸è¿™äº›å·¥å…·å½¢æˆäº’è¡¥ï¼Œæˆä¸º C++ ç”Ÿæ€ç³»ç»Ÿä¾èµ–ç®¡ç†çš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚</p>
            </div>
        </div>
    </div>
</body>
</html>