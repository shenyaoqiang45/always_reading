<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è´¢åŠ¡é€ å‡å¿«é€Ÿè¯†åˆ«å·¥å…·</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 2px solid #667eea;
            padding-bottom: 20px;
        }

        .header h1 {
            color: #2c3e50;
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .subtitle {
            color: #7f8c8d;
            font-size: 1.2em;
            font-style: italic;
        }

        .input-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .input-group {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            padding: 20px;
            border-radius: 15px;
            border: 2px solid #e3e6ea;
            transition: all 0.3s ease;
        }

        .input-group:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            border-color: #667eea;
        }

        .input-group h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.3em;
            display: flex;
            align-items: center;
        }

        .icon {
            margin-right: 10px;
            font-size: 1.5em;
        }

        .input-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .input-row label {
            flex: 1;
            font-weight: 500;
            color: #495057;
        }

        .input-row input {
            width: 120px;
            padding: 8px 12px;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }

        .input-row input:focus {
            outline: none;
            border-color: #667eea;
        }

        .analyze-btn {
            display: block;
            width: 200px;
            margin: 30px auto;
            padding: 15px 30px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .analyze-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.6);
        }

        .results {
            margin-top: 30px;
            display: none;
        }

        .alert {
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            font-weight: 500;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .alert-danger {
            background: linear-gradient(135deg, #ff6b6b, #ee5a52);
            color: white;
            border: 2px solid #dc3545;
        }

        .alert-warning {
            background: linear-gradient(135deg, #ffd93d, #ff9800);
            color: #333;
            border: 2px solid #ffc107;
        }

        .alert-success {
            background: linear-gradient(135deg, #51cf66, #40c057);
            color: white;
            border: 2px solid #28a745;
        }

        .warning-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            backdrop-filter: blur(5px);
        }

        .warning-item h4 {
            margin-bottom: 8px;
            font-size: 1.1em;
        }

        .metric-value {
            font-weight: bold;
            font-size: 1.1em;
        }

        .details-section {
            margin-top: 20px;
            background: rgba(255, 255, 255, 0.8);
            padding: 20px;
            border-radius: 15px;
        }

        .metric-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .metric-card {
            background: white;
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid #667eea;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ” è´¢åŠ¡é€ å‡å¿«é€Ÿè¯†åˆ«å·¥å…·</h1>
            <p class="subtitle">"ç¨æ”¶æ˜¯ä¼ä¸šè´¢åŠ¡çœŸå®æ€§çš„è¯•é‡‘çŸ³" - å·´è²ç‰¹å¼è´¢åŠ¡åˆ†æ</p>
        </div>

        <div class="input-section">
            <div class="input-group">
                <h3><span class="icon">ğŸ“Š</span>åˆ©æ¶¦è¡¨æ•°æ®</h3>
                <div class="input-row">
                    <label>è¥ä¸šæ”¶å…¥ (ä¸‡å…ƒ):</label>
                    <input type="number" id="revenue" placeholder="100000">
                </div>
                <div class="input-row">
                    <label>å‡€åˆ©æ¶¦ (ä¸‡å…ƒ):</label>
                    <input type="number" id="netProfit" placeholder="10000">
                </div>
                <div class="input-row">
                    <label>æ‰€å¾—ç¨è´¹ç”¨ (ä¸‡å…ƒ):</label>
                    <input type="number" id="taxExpense" placeholder="2500">
                </div>
                <div class="input-row">
                    <label>è¥ä¸šæˆæœ¬ (ä¸‡å…ƒ):</label>
                    <input type="number" id="operatingCost" placeholder="70000">
                </div>
                <div class="input-row">
                    <label>ä¸Šå¹´è¥ä¸šæ”¶å…¥ (ä¸‡å…ƒ):</label>
                    <input type="number" id="prevRevenue" placeholder="80000">
                </div>
            </div>

            <div class="input-group">
                <h3><span class="icon">ğŸ’°</span>ç°é‡‘æµé‡è¡¨æ•°æ®</h3>
                <div class="input-row">
                    <label>ç»è¥ç°é‡‘æµå‡€é¢ (ä¸‡å…ƒ):</label>
                    <input type="number" id="operatingCashFlow" placeholder="8000">
                </div>
                <div class="input-row">
                    <label>æ”¯ä»˜çš„ç¨è´¹ (ä¸‡å…ƒ):</label>
                    <input type="number" id="taxPaid" placeholder="2000">
                </div>
                <div class="input-row">
                    <label>é”€å”®å•†å“æ”¶åˆ°ç°é‡‘ (ä¸‡å…ƒ):</label>
                    <input type="number" id="cashFromSales" placeholder="95000">
                </div>
            </div>

            <div class="input-group">
                <h3><span class="icon">ğŸ¢</span>èµ„äº§è´Ÿå€ºè¡¨æ•°æ®</h3>
                <div class="input-row">
                    <label>åº”æ”¶è´¦æ¬¾ (ä¸‡å…ƒ):</label>
                    <input type="number" id="receivables" placeholder="15000">
                </div>
                <div class="input-row">
                    <label>å­˜è´§ (ä¸‡å…ƒ):</label>
                    <input type="number" id="inventory" placeholder="12000">
                </div>
                <div class="input-row">
                    <label>ä¸Šå¹´åº”æ”¶è´¦æ¬¾ (ä¸‡å…ƒ):</label>
                    <input type="number" id="prevReceivables" placeholder="12000">
                </div>
                <div class="input-row">
                    <label>ä¸Šå¹´å­˜è´§ (ä¸‡å…ƒ):</label>
                    <input type="number" id="prevInventory" placeholder="10000">
                </div>
            </div>
        </div>

        <button class="analyze-btn" onclick="analyzeFinancials()">
            ğŸš€ å¼€å§‹åˆ†æ
        </button>

        <div id="results" class="results"></div>
    </div>

    <script>
        function analyzeFinancials() {
            // è·å–è¾“å…¥æ•°æ®
            const data = {
                revenue: parseFloat(document.getElementById('revenue').value) || 0,
                netProfit: parseFloat(document.getElementById('netProfit').value) || 0,
                taxExpense: parseFloat(document.getElementById('taxExpense').value) || 0,
                operatingCost: parseFloat(document.getElementById('operatingCost').value) || 0,
                operatingCashFlow: parseFloat(document.getElementById('operatingCashFlow').value) || 0,
                taxPaid: parseFloat(document.getElementById('taxPaid').value) || 0,
                cashFromSales: parseFloat(document.getElementById('cashFromSales').value) || 0,
                receivables: parseFloat(document.getElementById('receivables').value) || 0,
                inventory: parseFloat(document.getElementById('inventory').value) || 0,
                prevReceivables: parseFloat(document.getElementById('prevReceivables').value) || 0,
                prevInventory: parseFloat(document.getElementById('prevInventory').value) || 0,
                prevRevenue: parseFloat(document.getElementById('prevRevenue').value) || 0
            };

            // è®¡ç®—å…³é”®æŒ‡æ ‡
            const metrics = calculateMetrics(data);
            
            // åˆ†æé€ å‡é£é™©
            const analysis = analyzeRisks(metrics, data);
            
            // æ˜¾ç¤ºç»“æœ
            displayResults(analysis, metrics);
        }

        function calculateMetrics(data) {
            const profitBeforeTax = data.netProfit + data.taxExpense;
            
            return {
                // ç¨ç‡ç›¸å…³
                effectiveTaxRate: profitBeforeTax > 0 ? (data.taxExpense / profitBeforeTax * 100) : 0,
                cashTaxRate: profitBeforeTax > 0 ? (data.taxPaid / profitBeforeTax * 100) : 0,
                taxGap: Math.abs((data.taxExpense - data.taxPaid) / Math.max(data.taxExpense, 1) * 100),
                
                // ç°é‡‘æµç›¸å…³
                cashProfitRatio: data.netProfit > 0 ? (data.operatingCashFlow / data.netProfit * 100) : 0,
                salesCashRatio: data.revenue > 0 ? (data.cashFromSales / data.revenue * 100) : 0,
                
                // èµ„äº§è´¨é‡
                receivablesGrowth: data.prevReceivables > 0 ? ((data.receivables - data.prevReceivables) / data.prevReceivables * 100) : 0,
                inventoryGrowth: data.prevInventory > 0 ? ((data.inventory - data.prevInventory) / data.prevInventory * 100) : 0,
                receivablesToSales: data.revenue > 0 ? (data.receivables / data.revenue * 100) : 0,
                
                // æ”¶å…¥è´¨é‡
                revenueGrowth: data.prevRevenue > 0 ? ((data.revenue - data.prevRevenue) / data.prevRevenue * 100) : 0,
                
                // ç›ˆåˆ©è´¨é‡
                grossMargin: data.revenue > 0 ? ((data.revenue - data.operatingCost) / data.revenue * 100) : 0,
                netMargin: data.revenue > 0 ? (data.netProfit / data.revenue * 100) : 0
            };
        }

        function analyzeRisks(metrics, data) {
            const warnings = [];
            let riskLevel = 0;

            // 1. ç¨æ”¶ä¸€è‡´æ€§æ£€æŸ¥
            if (metrics.taxGap > 30) {
                warnings.push({
                    type: 'ç¨æ”¶å¼‚å¸¸',
                    description: 'æ‰€å¾—ç¨è´¹ç”¨ä¸å®é™…æ”¯ä»˜ç¨è´¹å·®å¼‚è¿‡å¤§',
                    value: `å·®å¼‚ç‡: ${metrics.taxGap.toFixed(1)}%`,
                    severity: 'high',
                    implication: 'å¯èƒ½å­˜åœ¨æ”¶å…¥è™šå¢æˆ–åˆ©æ¶¦æ“çºµ'
                });
                riskLevel += 3;
            }

            // 2. æœ‰æ•ˆç¨ç‡å¼‚å¸¸
            if (metrics.effectiveTaxRate < 10 || metrics.effectiveTaxRate > 35) {
                warnings.push({
                    type: 'ç¨ç‡å¼‚å¸¸',
                    description: 'æœ‰æ•ˆç¨ç‡å¼‚å¸¸åç¦»æ­£å¸¸èŒƒå›´(10%-35%)',
                    value: `æœ‰æ•ˆç¨ç‡: ${metrics.effectiveTaxRate.toFixed(1)}%`,
                    severity: 'medium',
                    implication: 'å¯èƒ½å­˜åœ¨ç¨æ”¶ç­¹åˆ’è¿‡åº¦æˆ–åˆ©æ¶¦è°ƒèŠ‚'
                });
                riskLevel += 2;
            }

            // 3. ç°é‡‘æµä¸åˆ©æ¶¦èƒŒç¦»
            if (metrics.cashProfitRatio < 70) {
                warnings.push({
                    type: 'ç°é‡‘æµå¼‚å¸¸',
                    description: 'ç»è¥ç°é‡‘æµè¿œä½äºå‡€åˆ©æ¶¦',
                    value: `ç°é‡‘æµ/å‡€åˆ©æ¶¦: ${metrics.cashProfitRatio.toFixed(1)}%`,
                    severity: 'high',
                    implication: 'å¯èƒ½å­˜åœ¨æ”¶å…¥ç¡®è®¤æ¿€è¿›æˆ–åº”æ”¶è´¦æ¬¾è´¨é‡é—®é¢˜'
                });
                riskLevel += 3;
            }

            // 4. é”€å”®ç°é‡‘æ¯”å¼‚å¸¸
            if (metrics.salesCashRatio < 85) {
                warnings.push({
                    type: 'é”€å”®ç°é‡‘å¼‚å¸¸',
                    description: 'é”€å”®æ”¶åˆ°ç°é‡‘æ¯”ä¾‹åä½',
                    value: `é”€å”®ç°é‡‘æ¯”: ${metrics.salesCashRatio.toFixed(1)}%`,
                    severity: 'medium',
                    implication: 'å¯èƒ½å­˜åœ¨è™šæ„é”€å”®æˆ–å®¢æˆ·è´¨é‡é—®é¢˜'
                });
                riskLevel += 2;
            }

            // 5. åº”æ”¶è´¦æ¬¾å¼‚å¸¸å¢é•¿
            if (metrics.receivablesGrowth > 30 && (data.prevRevenue > 0 ? metrics.receivablesGrowth > metrics.revenueGrowth + 20 : metrics.receivablesGrowth > 25)) {
                warnings.push({
                    type: 'åº”æ”¶è´¦æ¬¾å¼‚å¸¸',
                    description: 'åº”æ”¶è´¦æ¬¾å¢é•¿è¿œè¶…æ”¶å…¥å¢é•¿',
                    value: `åº”æ”¶å¢é•¿ç‡: ${metrics.receivablesGrowth.toFixed(1)}% vs æ”¶å…¥å¢é•¿ç‡: ${metrics.revenueGrowth.toFixed(1)}%`,
                    severity: 'high',
                    implication: 'å¯èƒ½å­˜åœ¨æ”¶å…¥ç¡®è®¤é—®é¢˜æˆ–å®¢æˆ·ä¿¡ç”¨æ¶åŒ–'
                });
                riskLevel += 3;
            }

            // 6. å­˜è´§å¼‚å¸¸å¢é•¿
            if (metrics.inventoryGrowth > 40) {
                warnings.push({
                    type: 'å­˜è´§å¼‚å¸¸',
                    description: 'å­˜è´§å¢é•¿è¿‡å¿«',
                    value: `å­˜è´§å¢é•¿ç‡: ${metrics.inventoryGrowth.toFixed(1)}%`,
                    severity: 'medium',
                    implication: 'å¯èƒ½å­˜åœ¨æˆæœ¬å°‘è®¡æˆ–äº§å“æ»é”€'
                });
                riskLevel += 2;
            }

            // 7. åº”æ”¶è´¦æ¬¾å æ¯”è¿‡é«˜
            if (metrics.receivablesToSales > 25) {
                warnings.push({
                    type: 'åº”æ”¶æ¯”ä¾‹å¼‚å¸¸',
                    description: 'åº”æ”¶è´¦æ¬¾å é”€å”®æ”¶å…¥æ¯”ä¾‹è¿‡é«˜',
                    value: `åº”æ”¶/æ”¶å…¥: ${metrics.receivablesToSales.toFixed(1)}%`,
                    severity: 'medium',
                    implication: 'å¯èƒ½å­˜åœ¨ä¿¡ç”¨æ”¿ç­–è¿‡æ¾æˆ–æ”¶å…¥è´¨é‡é—®é¢˜'
                });
                riskLevel += 1;
            }

            // 8. æ”¶å…¥å¢é•¿å¼‚å¸¸
            if (data.prevRevenue > 0) {
                if (metrics.revenueGrowth > 50) {
                    warnings.push({
                        type: 'æ”¶å…¥å¢é•¿å¼‚å¸¸',
                        description: 'æ”¶å…¥å¢é•¿è¿‡å¿«ï¼Œéœ€è¦éªŒè¯çœŸå®æ€§',
                        value: `æ”¶å…¥å¢é•¿ç‡: ${metrics.revenueGrowth.toFixed(1)}%`,
                        severity: 'medium',
                        implication: 'å¯èƒ½å­˜åœ¨æ”¶å…¥ç¡®è®¤æ¿€è¿›æˆ–ä¸€æ¬¡æ€§æ”¶å…¥å½±å“'
                    });
                    riskLevel += 2;
                } else if (metrics.revenueGrowth < -20) {
                    warnings.push({
                        type: 'æ”¶å…¥ä¸‹æ»‘è­¦å‘Š',
                        description: 'æ”¶å…¥å¤§å¹…ä¸‹æ»‘ï¼Œå…³æ³¨ä¸šåŠ¡åŸºæœ¬é¢',
                        value: `æ”¶å…¥å¢é•¿ç‡: ${metrics.revenueGrowth.toFixed(1)}%`,
                        severity: 'medium',
                        implication: 'ä¸šåŠ¡å¯èƒ½é¢ä¸´å›°éš¾ï¼Œéœ€è¦å…³æ³¨åç»­è¶‹åŠ¿'
                    });
                    riskLevel += 1;
                }
            }

            return {
                riskLevel,
                warnings,
                overallAssessment: getRiskAssessment(riskLevel)
            };
        }

        function getRiskAssessment(riskLevel) {
            if (riskLevel >= 8) {
                return {
                    level: 'high',
                    description: 'âš ï¸ é«˜é£é™©é¢„è­¦',
                    message: 'å¤šé¡¹è´¢åŠ¡æŒ‡æ ‡å¼‚å¸¸ï¼Œå­˜åœ¨è¾ƒé«˜é€ å‡å¯èƒ½æ€§ï¼Œå»ºè®®æ·±åº¦è°ƒæŸ¥ï¼',
                    recommendation: 'å»ºè®®ï¼šç«‹å³åœæ­¢æŠ•èµ„è€ƒè™‘ï¼Œæ·±å…¥è°ƒæŸ¥è´¢åŠ¡çœŸå®æ€§ï¼Œå…³æ³¨å®¡è®¡æŠ¥å‘Šå’Œç®¡ç†å±‚è§£é‡Šã€‚'
                };
            } else if (riskLevel >= 4) {
                return {
                    level: 'medium',
                    description: 'âš¡ ä¸­ç­‰é£é™©æç¤º',
                    message: 'éƒ¨åˆ†æŒ‡æ ‡å­˜åœ¨å¼‚å¸¸ï¼Œéœ€è¦è¿›ä¸€æ­¥åˆ†æéªŒè¯ã€‚',
                    recommendation: 'å»ºè®®ï¼šè°¨æ…æŠ•èµ„ï¼Œé‡ç‚¹å…³æ³¨å¼‚å¸¸æŒ‡æ ‡çš„åˆç†æ€§è§£é‡Šï¼Œå¯¹æ¯”åŒè¡Œä¸šæ•°æ®ã€‚'
                };
            } else {
                return {
                    level: 'low',
                    description: 'âœ… è´¢åŠ¡ç›¸å¯¹å¥åº·',
                    message: 'ä¸»è¦è´¢åŠ¡æŒ‡æ ‡åŸºæœ¬æ­£å¸¸ï¼Œä½†ä»éœ€æŒç»­å…³æ³¨ã€‚',
                    recommendation: 'å»ºè®®ï¼šå¯ä»¥è€ƒè™‘æŠ•èµ„ï¼Œä½†è¦æŒç»­ç›‘æ§è´¢åŠ¡æŒ‡æ ‡å˜åŒ–è¶‹åŠ¿ã€‚'
                };
            }
        }

        function displayResults(analysis, metrics) {
            const resultsDiv = document.getElementById('results');
            
            let alertClass;
            if (analysis.overallAssessment.level === 'high') {
                alertClass = 'alert-danger';
            } else if (analysis.overallAssessment.level === 'medium') {
                alertClass = 'alert-warning';
            } else {
                alertClass = 'alert-success';
            }

            let warningsHtml = '';
            if (analysis.warnings.length > 0) {
                warningsHtml = analysis.warnings.map(warning => `
                    <div class="warning-item">
                        <h4>ğŸ” ${warning.type}</h4>
                        <p><strong>å¼‚å¸¸æè¿°ï¼š</strong>${warning.description}</p>
                        <p><strong>æ•°å€¼ï¼š</strong><span class="metric-value">${warning.value}</span></p>
                        <p><strong>å¯èƒ½åŸå› ï¼š</strong>${warning.implication}</p>
                    </div>
                `).join('');
            } else {
                warningsHtml = '<div class="warning-item"><h4>âœ… æœªå‘ç°æ˜æ˜¾å¼‚å¸¸</h4><p>ä¸»è¦è´¢åŠ¡æŒ‡æ ‡åŸºæœ¬æ­£å¸¸</p></div>';
            }

            resultsDiv.innerHTML = `
                <div class="alert ${alertClass}">
                    <h3>${analysis.overallAssessment.description}</h3>
                    <p style="margin: 10px 0; font-size: 1.1em;">${analysis.overallAssessment.message}</p>
                    <p style="margin-top: 15px;"><strong>${analysis.overallAssessment.recommendation}</strong></p>
                </div>

                ${analysis.warnings.length > 0 ? `
                <div class="alert alert-warning">
                    <h3>ğŸš¨ å¼‚å¸¸æŒ‡æ ‡è¯¦æƒ…</h3>
                    ${warningsHtml}
                </div>
                ` : ''}

                <div class="details-section">
                    <h3>ğŸ“ˆ è¯¦ç»†è´¢åŠ¡æŒ‡æ ‡</h3>
                    <div class="metric-grid">
                        <div class="metric-card">
                            <h4>æœ‰æ•ˆç¨ç‡</h4>
                            <p class="metric-value">${metrics.effectiveTaxRate.toFixed(1)}%</p>
                            <small>æ­£å¸¸èŒƒå›´: 10%-35%</small>
                        </div>
                        <div class="metric-card">
                            <h4>ç°é‡‘ç¨ç‡</h4>
                            <p class="metric-value">${metrics.cashTaxRate.toFixed(1)}%</p>
                            <small>åº”æ¥è¿‘æœ‰æ•ˆç¨ç‡</small>
                        </div>
                        <div class="metric-card">
                            <h4>ç°é‡‘åˆ©æ¶¦æ¯”</h4>
                            <p class="metric-value">${metrics.cashProfitRatio.toFixed(1)}%</p>
                            <small>å¥åº·æ°´å¹³: >80%</small>
                        </div>
                        <div class="metric-card">
                            <h4>é”€å”®ç°é‡‘æ¯”</h4>
                            <p class="metric-value">${metrics.salesCashRatio.toFixed(1)}%</p>
                            <small>è‰¯å¥½æ°´å¹³: >90%</small>
                        </div>
                        <div class="metric-card">
                            <h4>åº”æ”¶å¢é•¿ç‡</h4>
                            <p class="metric-value">${metrics.receivablesGrowth.toFixed(1)}%</p>
                            <small>åº”ä½äºæ”¶å…¥å¢é•¿</small>
                        </div>
                        <div class="metric-card">
                            <h4>æ”¶å…¥å¢é•¿ç‡</h4>
                            <p class="metric-value">${metrics.revenueGrowth.toFixed(1)}%</p>
                            <small>ä¸šåŠ¡å¢é•¿æŒ‡æ ‡</small>
                        </div>
                        <div class="metric-card">
                            <h4>å‡€åˆ©æ¶¦ç‡</h4>
                            <p class="metric-value">${metrics.netMargin.toFixed(1)}%</p>
                            <small>ç›ˆåˆ©èƒ½åŠ›æŒ‡æ ‡</small>
                        </div>
                    </div>
                </div>
            `;

            resultsDiv.style.display = 'block';
            resultsDiv.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
    </script>
</body>
</html>